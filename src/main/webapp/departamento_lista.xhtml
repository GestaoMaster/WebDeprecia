<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	lang="en"> 
  
	<h:head>
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
  		<title>WebDeprecia - Lista de Departamentos</title>
  		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"></link>
	</h:head>
	<div class="container">
        <img src="logo.png" />
		<h4  class="bg-danger" style="color:blue;">Lista de Departamentos</h4>
	</div>
	<h:body>
    	<h:form>
			<p:messages id="messages" />
			<h:commandButton  value="Cadastrar nã í ovo departamento" icon="ui-icon-star" style="margin-left:103px"
            	action="departamento_cadastro.xhtml?faces-redict=true" >
            </h:commandButton>
			<h:commandButton  value="Voltar"  
            	action="index.xhtml?faces-redict=true">
            </h:commandButton>
			<p:dataTable value="#{departamentoMB.selectAll}" var="objDepartamento" style="margin-left:103px"
			             paginator="true" rows="5" paginatorPosition="bottom">  

				<p:column headerText="Nome"  align="left" style="width:250px; max-width: 250px; min-width: 250px"
				          sortBy="#{objDepartamento.nome}" filterBy="#{objDepartamento.nome}" filterStyle="max-width: 250px; min-width: 250px;">
					<p:outputLabel value="#{objDepartamento.nome}" />
				</p:column>
				<p:column headerText="Sigla" style="width: 100px; max-width: 100px; min-width: 100px"
				          sortBy="#{objDepartamento.sigla}" filterBy="#{objDepartamento.sigla}" filterStyle="max-width: 100px; min-width: 100px;">
					<p:outputLabel value="#{objDepartamento.sigla}" />
				</p:column>
				<p:column headerText="Responsavel" style="width: 250px; max-width: 250px; min-width: 250px"
				          sortBy="#{objDepartamento.responsavel}" filterBy="#{objDepartamento.responsavel}" filterStyle="max-width: 250px; min-width: 250px;">
					<p:outputLabel value="#{objDepartamento.responsavel}" />
				</p:column>
				<p:column style="width: 70px; max-width: 70px; min-width: 70px">
				    <h:commandLink value="excluir" action="#{departamentoMB.actionExcluir}">
				    	<f:setPropertyActionListener value="#{objDepartamento.id}" 
			    			target="#{departamentoMB.departamento.id}"/>
			    	</h:commandLink>
				</p:column>
				<p:column style="width: 70px; max-width: 70px; min-width: 70px">
				    <h:commandLink value="editar" action="departamento_cadastro.xhtml?faces-redict=true">
				    	<f:setPropertyActionListener value="#{objDepartamento}" 
				    		target="#{departamentoMB.departamento}"/>
			    	</h:commandLink>
				</p:column>
			</p:dataTable>
		</h:form>
	</h:body>
</html>